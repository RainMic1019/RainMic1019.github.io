<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>云文档托管方案分析 | 天上下橙雨</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/images/logo.png">
    <link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js"></script>
    <meta name="description" content="天上下橙雨的个人博客">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.7eaaf838.css" as="style"><link rel="preload" href="/assets/js/app.389323ad.js" as="script"><link rel="preload" href="/assets/js/3.8cd7b294.js" as="script"><link rel="preload" href="/assets/js/1.2acc022b.js" as="script"><link rel="preload" href="/assets/js/11.c2055ebb.js" as="script"><link rel="prefetch" href="/assets/js/10.509ef012.js"><link rel="prefetch" href="/assets/js/100.87b48422.js"><link rel="prefetch" href="/assets/js/101.26b12fac.js"><link rel="prefetch" href="/assets/js/102.7bb41561.js"><link rel="prefetch" href="/assets/js/103.9625cf57.js"><link rel="prefetch" href="/assets/js/104.656f8f66.js"><link rel="prefetch" href="/assets/js/105.01e163d8.js"><link rel="prefetch" href="/assets/js/12.5b98e285.js"><link rel="prefetch" href="/assets/js/13.da357cb6.js"><link rel="prefetch" href="/assets/js/14.14359ca8.js"><link rel="prefetch" href="/assets/js/15.3f13fc82.js"><link rel="prefetch" href="/assets/js/16.7f349b92.js"><link rel="prefetch" href="/assets/js/17.dfbfd566.js"><link rel="prefetch" href="/assets/js/18.c5da041e.js"><link rel="prefetch" href="/assets/js/19.0f9638df.js"><link rel="prefetch" href="/assets/js/20.ebb7267b.js"><link rel="prefetch" href="/assets/js/21.01453e44.js"><link rel="prefetch" href="/assets/js/22.dd08b5d9.js"><link rel="prefetch" href="/assets/js/23.59d3ba1f.js"><link rel="prefetch" href="/assets/js/24.b4851731.js"><link rel="prefetch" href="/assets/js/25.8fe447e5.js"><link rel="prefetch" href="/assets/js/26.ba72535f.js"><link rel="prefetch" href="/assets/js/27.d78e5a7f.js"><link rel="prefetch" href="/assets/js/28.869cfdab.js"><link rel="prefetch" href="/assets/js/29.94d6c0da.js"><link rel="prefetch" href="/assets/js/30.4d578f75.js"><link rel="prefetch" href="/assets/js/31.b176b736.js"><link rel="prefetch" href="/assets/js/32.b0e5c692.js"><link rel="prefetch" href="/assets/js/33.50670ab7.js"><link rel="prefetch" href="/assets/js/34.ca843b26.js"><link rel="prefetch" href="/assets/js/35.9d0a871d.js"><link rel="prefetch" href="/assets/js/36.058658f5.js"><link rel="prefetch" href="/assets/js/37.79702756.js"><link rel="prefetch" href="/assets/js/38.3becf2a9.js"><link rel="prefetch" href="/assets/js/39.ce9c4993.js"><link rel="prefetch" href="/assets/js/4.7234e624.js"><link rel="prefetch" href="/assets/js/40.63f404db.js"><link rel="prefetch" href="/assets/js/41.055093b0.js"><link rel="prefetch" href="/assets/js/42.fdac0499.js"><link rel="prefetch" href="/assets/js/43.eccc4bc3.js"><link rel="prefetch" href="/assets/js/44.15c550df.js"><link rel="prefetch" href="/assets/js/45.e1f3a91a.js"><link rel="prefetch" href="/assets/js/46.2f663949.js"><link rel="prefetch" href="/assets/js/47.e414f8b4.js"><link rel="prefetch" href="/assets/js/48.33742d27.js"><link rel="prefetch" href="/assets/js/49.39d768fb.js"><link rel="prefetch" href="/assets/js/5.c5df887a.js"><link rel="prefetch" href="/assets/js/50.6f7b21d1.js"><link rel="prefetch" href="/assets/js/51.dd0d4797.js"><link rel="prefetch" href="/assets/js/52.d6b486de.js"><link rel="prefetch" href="/assets/js/53.a375da01.js"><link rel="prefetch" href="/assets/js/54.286f4db9.js"><link rel="prefetch" href="/assets/js/55.4eca20c6.js"><link rel="prefetch" href="/assets/js/56.3e29c0fe.js"><link rel="prefetch" href="/assets/js/57.ba66cfdf.js"><link rel="prefetch" href="/assets/js/58.9ab4c356.js"><link rel="prefetch" href="/assets/js/59.f4a92ca7.js"><link rel="prefetch" href="/assets/js/6.c5c0e212.js"><link rel="prefetch" href="/assets/js/60.25abd7f9.js"><link rel="prefetch" href="/assets/js/61.7152649d.js"><link rel="prefetch" href="/assets/js/62.9c19bfc5.js"><link rel="prefetch" href="/assets/js/63.b414f496.js"><link rel="prefetch" href="/assets/js/64.58bc0c9c.js"><link rel="prefetch" href="/assets/js/65.b593055b.js"><link rel="prefetch" href="/assets/js/66.4eb75485.js"><link rel="prefetch" href="/assets/js/67.a110db76.js"><link rel="prefetch" href="/assets/js/68.f4bbae0a.js"><link rel="prefetch" href="/assets/js/69.532ecaf5.js"><link rel="prefetch" href="/assets/js/7.54ced24c.js"><link rel="prefetch" href="/assets/js/70.4a3e45cb.js"><link rel="prefetch" href="/assets/js/71.37d0cbc5.js"><link rel="prefetch" href="/assets/js/72.c19ed0ab.js"><link rel="prefetch" href="/assets/js/73.1e1c5639.js"><link rel="prefetch" href="/assets/js/74.a495e734.js"><link rel="prefetch" href="/assets/js/75.36ed645a.js"><link rel="prefetch" href="/assets/js/76.4eb141f1.js"><link rel="prefetch" href="/assets/js/77.dea7ff9d.js"><link rel="prefetch" href="/assets/js/78.d77bc99b.js"><link rel="prefetch" href="/assets/js/79.e4856393.js"><link rel="prefetch" href="/assets/js/8.e62f1843.js"><link rel="prefetch" href="/assets/js/80.fd65c7a5.js"><link rel="prefetch" href="/assets/js/81.7754f641.js"><link rel="prefetch" href="/assets/js/82.9ab18ada.js"><link rel="prefetch" href="/assets/js/83.06c080f6.js"><link rel="prefetch" href="/assets/js/84.3b801bcb.js"><link rel="prefetch" href="/assets/js/85.f90e359b.js"><link rel="prefetch" href="/assets/js/86.5ae50729.js"><link rel="prefetch" href="/assets/js/87.1fe37ed2.js"><link rel="prefetch" href="/assets/js/88.47071570.js"><link rel="prefetch" href="/assets/js/89.0baa310a.js"><link rel="prefetch" href="/assets/js/9.fd63a988.js"><link rel="prefetch" href="/assets/js/90.714224f5.js"><link rel="prefetch" href="/assets/js/91.fbc0997e.js"><link rel="prefetch" href="/assets/js/92.c1c0a549.js"><link rel="prefetch" href="/assets/js/93.9870265b.js"><link rel="prefetch" href="/assets/js/94.ff12a7de.js"><link rel="prefetch" href="/assets/js/95.976ae2f6.js"><link rel="prefetch" href="/assets/js/96.41f2642f.js"><link rel="prefetch" href="/assets/js/97.65fe8305.js"><link rel="prefetch" href="/assets/js/98.3a87e365.js"><link rel="prefetch" href="/assets/js/99.cc9e61ce.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7eaaf838.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>天上下橙雨</h3> <p class="description" data-v-59e6cb88>天上下橙雨的个人博客</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>天上下橙雨</span>
          
        <span data-v-59e6cb88>2018 - </span>
        2025
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.png" alt="天上下橙雨" class="logo"> <span class="site-name">天上下橙雨</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/categories/设计模式/" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/categories/嵌入式/" class="nav-link"><i class="undefined"></i>
  嵌入式
</a></li><li class="dropdown-item"><!----> <a href="/categories/GUI/" class="nav-link"><i class="undefined"></i>
  GUI
</a></li><li class="dropdown-item"><!----> <a href="/categories/其他/" class="nav-link"><i class="undefined"></i>
  其他
</a></li><li class="dropdown-item"><!----> <a href="/categories/程序设计/" class="nav-link"><i class="undefined"></i>
  程序设计
</a></li><li class="dropdown-item"><!----> <a href="/categories/编程原理/" class="nav-link"><i class="undefined"></i>
  编程原理
</a></li><li class="dropdown-item"><!----> <a href="/categories/重构/" class="nav-link"><i class="undefined"></i>
  重构
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  归档
</a></div><div class="nav-item"><a href="/msg_board/" class="nav-link"><i class="iconfont reco-suggestion"></i>
  留言板
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/images/head.jpg" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    天上下橙雨
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>89</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>24</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41><li class="social-item" data-v-1fad0c41><i class="iconfont reco-github" style="color:#3498db;" data-v-1fad0c41></i></li><li class="social-item" data-v-1fad0c41><i class="iconfont reco-csdn" style="color:#3498db;" data-v-1fad0c41></i></li><li class="social-item" data-v-1fad0c41><i class="iconfont reco-mail" style="color:#67cc86;" data-v-1fad0c41></i></li></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/categories/设计模式/" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/categories/嵌入式/" class="nav-link"><i class="undefined"></i>
  嵌入式
</a></li><li class="dropdown-item"><!----> <a href="/categories/GUI/" class="nav-link"><i class="undefined"></i>
  GUI
</a></li><li class="dropdown-item"><!----> <a href="/categories/其他/" class="nav-link"><i class="undefined"></i>
  其他
</a></li><li class="dropdown-item"><!----> <a href="/categories/程序设计/" class="nav-link"><i class="undefined"></i>
  程序设计
</a></li><li class="dropdown-item"><!----> <a href="/categories/编程原理/" class="nav-link"><i class="undefined"></i>
  编程原理
</a></li><li class="dropdown-item"><!----> <a href="/categories/重构/" class="nav-link"><i class="undefined"></i>
  重构
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  归档
</a></div><div class="nav-item"><a href="/msg_board/" class="nav-link"><i class="iconfont reco-suggestion"></i>
  留言板
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>云文档托管方案分析</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>天上下橙雨</span>
          
        <span data-v-59e6cb88>2018 - </span>
        2025
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">云文档托管方案分析</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>天上下橙雨</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>2021/11/14</span></i> <i class="iconfont reco-eye" data-v-8a445198><span id="/blog/other/cloud_document.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-8a445198><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>网页</span><span class="tag-item" data-v-8a445198>文档</span><span class="tag-item" data-v-8a445198>VuePress</span></i></div></div> <div class="theme-reco-content content__default"><h2 id="_1-前言"><a href="#_1-前言" class="header-anchor">#</a> 1 前言</h2> <p>近期想要将一些技术文档放到云上托管，因此去了解了一下各类静态网页生成器以及部分使用细节，对此做了一些记录，希望能帮助到大家，后续也会更新一些关于云文档搭建的文章。</p> <h2 id="_2-网页生成器的选择"><a href="#_2-网页生成器的选择" class="header-anchor">#</a> 2 网页生成器的选择</h2> <p>目前我们对云文档托管的需求如下：</p> <ol><li>要将一些 Markdown 说明文档、帮助文档托管到云端，确定是用网页的方式展现，类似的可以参考：<a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="noopener noreferrer">Vue 云文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://docs.lvgl.io/master/index.html#" target="_blank" rel="noopener noreferrer">LVGL 云文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://support.touchgfx.com/zh-CN/docs/introduction/welcome" target="_blank" rel="noopener noreferrer">TouchGFX 云文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>；</li> <li>网页需要有导航栏、搜索栏、侧边栏；</li> <li>主页与导航栏需要列处文档列表，即需要能够自定义主页和导航栏；</li> <li>搜索栏可以搜索文档标题也可以进行全局搜索；</li> <li>需要可以选择文档版本，可以考虑将版本列表放到导航栏。</li> <li>需要能将 Markdown 文档转为 PDF，方便下载浏览。</li></ol> <p>根据以上需求，我们筛选出了以下三个网页生成器，并分析它们的优缺点，确定基于什么框架实现。</p> <h3 id="_2-1-vuepress"><a href="#_2-1-vuepress" class="header-anchor">#</a> 2.1 VuePress</h3> <p>示例参考：<a href="https://vuepress.vue.js.org/zh/" target="_blank" rel="noopener noreferrer">VuePress 云文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>VuePress 是一个极简静态网页生成器，简洁明了，新能高，以 Markdown 文档为中心，可使用 Vue 组件来实现扩展功能。</p> <p>效果如图：</p> <p><img src="/assets/img/renderings1.cf5a2b1f.png" alt="效果"></p> <p>优缺点：</p> <ol><li>环境配置简单，配置操作简单。</li> <li>提供默认主题，可自定义主题，从而更改网站主页与整体样式。</li> <li>支持导航栏、侧边栏、搜索栏，提供内置搜索引擎，但无法搜索全文。</li> <li>以 Markdown 为中心开发，内置 md 扩展功能与 Vue 扩展功能。</li> <li>支持全文搜索插件，并支持内置  Algolia DocSearch。</li> <li>支持内置多语言翻译。</li></ol> <p>运行环境：</p> <ol><li>Node.js &gt;= 8.6。</li></ol> <h3 id="_2-2-sphinx"><a href="#_2-2-sphinx" class="header-anchor">#</a> 2.2 Sphinx</h3> <p>示例参考：<a href="https://docs.lvgl.io/master/index.html#" target="_blank" rel="noopener noreferrer">LVGL 云文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Sphinx 是一个功能强大的文档生成器，最初为生成 Python 文档而诞生，默认使用 reStructuresText（简称 rst）格式进行写作。</p> <p>效果如图：</p> <p><img src="/assets/img/renderings2.c39e8e96.png" alt="效果"></p> <p>优缺点：</p> <ol><li>具有丰富的输出格式，支持 HTML、LaTeX（用于打印 PDF 版本）、manual pages、纯文本等。</li> <li>具有完备的交叉引用，语义化标签，可以自动化链接函数、类、引文、术语及相似的片段信息。</li> <li>使用 rst 作为标记语言，可以享有 docutils 为其提供的分析、转换等多种工具，转换为 PDF 文档较为方便。</li> <li>自带的搜索框支持全文搜索，但搜索界面不太好用，且 Algolia DocSearch 不支持该生成器，生成网页后，需要手动嵌入 DocSearch 的代码。</li> <li>不支持 Markdown 文档，需要借助 Recommonmark 插件将 md 文档转为 rst 格式。</li> <li>不支持导航栏，需手动改写静态网页。</li> <li>环境配置相较于 VuePress 和 Docusaurus 来讲过于复杂，由于公司电脑无法使用 pip 安装依赖包，暂时无法测试。</li></ol> <p>运行环境：</p> <ol><li>python 2.4 或 python 3.1，以及 docutils 和 jinja2 库，sphinx 必须在 0.7 版本。</li> <li>如果需要源码支持高亮显示，则必须安装 pygments 库。</li> <li>如果使用 Python 2.4，还需要 uuid 库。</li></ol> <h3 id="_2-3-docusaurus"><a href="#_2-3-docusaurus" class="header-anchor">#</a> 2.3 Docusaurus</h3> <p>示例参考：<a href="https://support.touchgfx.com/zh-CN/docs/introduction/welcome" target="_blank" rel="noopener noreferrer">TouchGFX 云文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Docusaurus 与 VuePress 极为相似，环境配置以及功能都差不多，区别在于 Docusaurus  基于 React 构建，VuePress 基于 Vue 构建。</p> <blockquote><p>备注：如果想要基于 Python 构建的静态网页生成器，可以使用 MkDocs，其功能也是类似的。</p></blockquote> <p>效果如图：</p> <p><img src="/assets/img/renderings3.2f89dfd5.png" alt="效果"></p> <p>运行环境：</p> <ol><li>Node.js &gt;= 12.13.0。</li></ol> <blockquote><p>备注：由于公司电脑安装了绿色版的 nodejs，版本为 10.15.3，因此暂未测试，但看了官方文档，操作基本与 VuePress 一致。</p></blockquote> <h3 id="_2-4-结论"><a href="#_2-4-结论" class="header-anchor">#</a> 2.4 结论</h3> <p>结合本章节开始提出的需求，结论如下：</p> <ul><li>VuePress 和 Docusaurus 可满足以上大部分需求，并且操作简单，可快速搭建云网站，但其难点在于 Markdown 转 PDF 怎么做。</li> <li>Sphinx 虽然提供 Markdown 转 PDF 的解决方案，但搭建环境比较复杂，Markdown 文档需根据转 rst 格式的要求进行额外配置，且 Sphinx 不提供导航栏、不支持 Algolia DocSearch，不支持主页设计，这些均需通过手写静态网站解决，比较麻烦。</li></ul> <p>此处选用 VuePress 作为网站生成器，拟采用下文中介绍 Pandoc+TeXLive 的方案实现 Markdown 转 PDF。</p> <h2 id="_3-支持全文搜索"><a href="#_3-支持全文搜索" class="header-anchor">#</a> 3 支持全文搜索</h2> <h3 id="_3-1-vuepress-自带插件"><a href="#_3-1-vuepress-自带插件" class="header-anchor">#</a> 3.1 VuePress 自带插件</h3> <h4 id="_3-1-1-fulltext-search"><a href="#_3-1-1-fulltext-search" class="header-anchor">#</a> 3.1.1 fulltext-search</h4> <ol><li>安装插件（安装在生产环境）：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> vuepress-plugin-fulltext-search
</code></pre></div><ol start="2"><li>修改 vuepress 的配置文件：docs/.vuepress/config.js、</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'fulltext-search'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>配置搜索词高亮样式：</li></ol> <p>例如，命中文字高亮红色：</p> <div class="language-css extra-class"><pre class="language-css"><code>.search-box .suggestion a .suggestion-row .suggestion-content .highlight
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
</code></pre></div><p>或者，命中文字高亮蓝色，背景色拿瓦白：</p> <div class="language-css extra-class"><pre class="language-css"><code>.search-box .suggestion a .suggestion-row .suggestion-content .highlight
  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> NavajoWhite<span class="token punctuation">;</span>
</code></pre></div><blockquote><p>备注：可查阅全局搜索插件的 <a href="node_modules%5Cvuepress-plugin-fulltext-search%5Ccomponents%5CSearchBox.vue">style 文件</a>，搜索 highlight 研究搜索框的样式。</p></blockquote> <p>效果如图：</p> <p><img src="/assets/img/renderings4.8da75807.png" alt="效果"></p> <p>优缺点：</p> <ol><li>只有在使用 VuePress 时才能使用，操作简单，只需配置关键词高亮即可。</li> <li>效果与下文中的 Algolia DocSearch 类似，提供章节与具体搜索内容，清晰明了；</li> <li>搜索结果优先显示标题上的，正文的搜素效果没有 Algolia DocSearch 插件好。</li></ol> <h4 id="_3-1-2-flexsearch"><a href="#_3-1-2-flexsearch" class="header-anchor">#</a> 3.1.2 flexsearch</h4> <ol><li>安装插件（安装在生产环境）：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> vuepress-plugin-flexsearch
</code></pre></div><ol start="2"><li>修改 vuepress 的配置文件：docs/.vuepress/config.js、</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
        <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string">'flexsearch'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment">// 其他插件</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>效果如图：</p> <p><img src="/assets/img/renderings5.2718c68e.png" alt="效果"></p> <p>优缺点：</p> <ol><li>只有在使用 VuePress 时才能使用，操作简单。</li> <li>提供了更多的配置项，较为灵活。</li> <li><strong>该插件中文分词没做好，中文检索效果非常差，以至于无法检索，不建议使用。</strong></li></ol> <h3 id="_3-2-algolia-docsearch"><a href="#_3-2-algolia-docsearch" class="header-anchor">#</a> 3.2 Algolia DocSearch</h3> <p>Algolia DocSearch 是第三方提供的免费搜索服务。</p> <p>【使用要求】</p> <ol><li>我们必须是云文档网站的<strong>所有者</strong>，网站必须是<strong>公开的</strong>。</li> <li>网站内容必须是<strong>开源项目的技术文档</strong>或<strong>技术博客</strong>。</li> <li>网站申请服务时必须有<strong>完整稳定的设计和内容</strong>，即确认网站做好生产准备。</li></ol> <p>【使用步骤】：</p> <ol><li>访问 <a href="https://docsearch.algolia.com" target="_blank" rel="noopener noreferrer">Algolia Docsearch 官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li> <li>点击 Apply 申请使用，需要填写 <strong>云文档地址</strong> 和 <strong>邮箱</strong>。</li> <li>申请完成后，Algolia DocSearch会发送确认邮件到上一个步骤中填写的邮箱，收到后需要回复一下这个网站是我们负责开发维护的，并且可以修改网站代码。</li> <li>通过确认后，Algolia DocSearch会再发一封使用邮件，其中包含 <strong>apiKey</strong> 和 <strong>indexName</strong>，用于在网站生成框架中配置使用，例如在 VuePress 中配置如下，其他框架类似：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">themeConfig</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">algolia</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">apiKey</span><span class="token operator">:</span> <span class="token string">'请看邮箱'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">indexName</span><span class="token operator">:</span> <span class="token string">'请看邮箱'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>【Algolia DocSearch 原理】：</p> <p>Algolia 服务器会<strong>定期抓取</strong>我们填写的 <strong>云文档地址</strong> 中的内容进行分析并<strong>建立索引</strong>，这样在网站搜索框中输入关键词后，前端会调用 Algolia DocSearch 的接口并显示搜索结果。这些请求、结果显示的相关逻辑都封装好了，我们要做的就是按要求插入代码、配置好网站样式以及搜索框。</p> <blockquote><p>备注：根据 Algolia DocSearch 的官方文档，默认情况下它通常一周爬取一次网站内容，用户也可自行触发爬取，详见：<a href="https://docsearch.algolia.com/docs/what-is-docsearch" target="_blank" rel="noopener noreferrer">DocSearch 的快速描述<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></blockquote> <p>【支持的网站生成框架】：</p> <ul><li>Docusaurus v1/v2；</li> <li>VuePress；</li> <li>pkgdown；</li> <li>等等，其他详见 DocSearch 文档。</li></ul> <p><a href="https://vuepress.vue.js.org/zh/" target="_blank" rel="noopener noreferrer">VuePress 云文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 效果如图：</p> <p><img src="/assets/img/renderings6.0842fee5.png" alt="效果"></p> <p><a href="https://support.touchgfx.com/zh-CN/docs/introduction/welcome" target="_blank" rel="noopener noreferrer">TouchGFX 云文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 效果如图：</p> <p><img src="/assets/img/renderings7.0f77067c.png" alt="效果"></p> <p>优缺点：</p> <ol><li>Algolia DocSearch 免费开源，为开源项目和技术博客的在线文档提供免费托管，可让自动爬取，也可以在 DocSearch 代码基础上手动爬取，作为交换需要在搜索栏上显示 algolia 的标志。</li> <li>搜索效果较好，但默认一周更新一次，用户使用且管理爬虫都需要向 algolia，由于目前暂时无法测试所以不确定申请流程有多长。</li></ol> <h3 id="_3-3-结论"><a href="#_3-3-结论" class="header-anchor">#</a> 3.3 结论</h3> <p>综上所述，fulltext-search 插件的效果与 Algolia DocSearch 类似，因此在离线预览时，采用 fulltext-search，等到网站稳定发布时可以再考虑申请使用 Algolia DocSearch 提高检索效果。</p> <h2 id="_4-生成pdf的方案"><a href="#_4-生成pdf的方案" class="header-anchor">#</a> 4 生成PDF的方案</h2> <h3 id="_4-1-使用sphinx"><a href="#_4-1-使用sphinx" class="header-anchor">#</a> 4.1 使用Sphinx</h3> <p>基本原理：</p> <ol><li>借助 Recommonmark 插件将 md 文档转为 rst 格式；</li> <li>使用 Sphinx 内置引擎将 rst 文件转化为 tex 文件；</li> <li>使用第三方 Latex 渲染引擎将 tex文档输出为 LaTex 格式，再转成 PDF 文件。</li></ol> <p>优缺点：</p> <ol><li>输出格式较为美观，调整 rst 文件灵活性更好。</li> <li>对 md 的支持不好，一些复杂格式，比如表格，仍需要修改 rst 或 tex 文件。</li></ol> <h3 id="_4-2-mdpdf"><a href="#_4-2-mdpdf" class="header-anchor">#</a> 4.2 mdpdf</h3> <p>安装 mdpdf：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> mdpdf
</code></pre></div><p>转换文档：</p> <div class="language- extra-class"><pre class="language-text"><code>mdpdf README.md
</code></pre></div><p>其他相关设置参数详见：<a href="https://www.npmjs.com/package/mdpdf" target="_blank" rel="noopener noreferrer">mdpdf<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>优缺点：</p> <ol><li>使用 npm 安装，配置简单，支持设置样式文件、并且可以调整页眉页脚、设置页边距、设置纸张大小。</li> <li>转换效果一般，过长的代码和过宽的表格会被遮挡，硬伤是不支持 PDF 目录。</li></ol> <h3 id="_4-3-markdown-pdf"><a href="#_4-3-markdown-pdf" class="header-anchor">#</a> 4.3 markdown-pdf</h3> <p>与 mdpdf 类似，但效果要比 mdpdf 好，代码高亮且自动换行，表格也不会被遮挡，但表格没有划线，而且也没有目录，具体详见：<a href="https://www.npmjs.com/package/markdown-pdf" target="_blank" rel="noopener noreferrer">markdown-pdf<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h3 id="_4-4-pandoc-texlive"><a href="#_4-4-pandoc-texlive" class="header-anchor">#</a> 4.4 Pandoc+TeXLive</h3> <p>Pandoc 用于各种格式文档的转换，此处通过它将 Markdown 文档转化为 PDF 文件，其中包含以下两个步骤：</p> <ol><li>将 Markdown 转化为 LaTex 源文件；</li> <li>调用 TeXLive 的 pdflatex、xelatex 或者其他 Tex 渲染引擎，将 .tex 文件转换为最终的 PDF 文件。</li></ol> <p>环境安装：</p> <ul><li>安装 <a href="https://pandoc.org/" target="_blank" rel="noopener noreferrer">Pandoc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，将其添加到环境变量，检查命令：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>pandoc <span class="token parameter variable">-v</span>
</code></pre></div><ul><li>安装 <a href="https://www/tug.org/texlive" target="_blank" rel="noopener noreferrer">TexLive<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，将其添加到环境变量，检查命令：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>tex <span class="token parameter variable">-v</span>
latex <span class="token parameter variable">-v</span>
xelatex <span class="token parameter variable">-v</span>
pdflatex <span class="token parameter variable">-v</span>
</code></pre></div><h4 id="_4-4-1-处理中文"><a href="#_4-4-1-处理中文" class="header-anchor">#</a> 4.4.1 处理中文</h4> <p>Pandoc 默认使用的 pdflatex 渲染引擎无法处理 Unicode 字符，如果 Markdown 中包含中文，转换为 PDF 的过程中会报错，需要用 xelatex 渲染引擎来处理中文，并且使用 CJKmainfont 选项指定支持中文的字体。</p> <p>在 Windows 中，对于 Pandoc 2.0 以上版本，生成 PDF 文件的命令如下：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>pandoc --pdf-engine<span class="token operator">=</span>xelatex <span class="token parameter variable">-V</span> <span class="token assign-left variable">CJKmainfont</span><span class="token operator">=</span><span class="token string">&quot;Microsoft YaHei&quot;</span> README.md <span class="token parameter variable">-o</span> README.pdf
</code></pre></div><p>CJKmainfont 指定支持中文的字体名称，寻找这些字体首先需要知道 language code，比如中文的是 <strong>zh</strong>，然后使用以下命令查看系统中支持该语言的所有字体：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>fc-list :lang<span class="token operator">=</span>zh
</code></pre></div><blockquote><p>备注：fc-list 在Unix系统一般会预装，其他平台需要自行搜索安装依赖包，在 Windows 中可以直接查看 C:\Windows\Fonts 目录。</p> <ul><li>Win7 可以访问：控制面板\所有控制面板项\字体。</li> <li>Win10 可通过【设置】=&gt;【个性化】=&gt;【字体】查看字体名称。</li></ul></blockquote> <p>更多相关信息以及使用技巧详见：<a href="https://jdhao.github.io/2017/12/10/pandoc-markdown-with-chinese" target="_blank" rel="noopener noreferrer">pandoc-markdown-with-chinese<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>优缺点：</p> <ol><li>Pandoc 支持生成目录（bookmarks）、标题、文档信息、列表渲染、代码高亮、设置样式、设置字体、设置链接颜色、设置页边距等多种个性化功能，转换效果比较好。</li> <li>配置有点麻烦，需要注意使用中文的问题，并且不同版本的 Pandoc 命令有点区别，容易踩坑。</li></ol> <h3 id="_4-5-结论"><a href="#_4-5-结论" class="header-anchor">#</a> 4.5 结论</h3> <p>Sphinx 和 Pandoc + TeXLive 本质上原理一样，都是先转换为 LaTex 源文件，再渲染成 PDF，区别是使用的渲染引擎不太一样。</p> <p>如果使用其他网页生成器，考虑到环境配置与灵活性的问题，综合考虑 Pandoc + TeXLive 更好一些。</p> <h2 id="_5-方案总结"><a href="#_5-方案总结" class="header-anchor">#</a> 5 方案总结</h2> <table><thead><tr><th>关键需求点</th> <th>选择方案</th></tr></thead> <tbody><tr><td>网页生成框架</td> <td>VuePress</td></tr> <tr><td>全文搜索插件</td> <td>内部预览采用 fulltext-search 插件，正式上线再考虑是否改用 Algolia DocSearch</td></tr> <tr><td>生成 PDF</td> <td>Pandoc + TeXLive，需要学习 LaTex 语法，以便调整 PDF 效果</td></tr></tbody></table> <h2 id="_6-其他问题评估"><a href="#_6-其他问题评估" class="header-anchor">#</a> 6 其他问题评估</h2> <h3 id="_6-1-首页提供文档列表"><a href="#_6-1-首页提供文档列表" class="header-anchor">#</a> 6.1 首页提供文档列表</h3> <p>VuePress 默认主题首页排版比较简洁，可能不太适用我们自身的情况，但可以通过自定义首页来解决这个问题，实际上就是开发一个 Vue 组件，需要编写 .vuepress/theme/components/Home.vue。</p> <p>此外，直接编写静态首页也可以达到类似的效果。</p> <p>参考示例：<a href="https://www.jianshu.com/p/aff8c343639c" target="_blank" rel="noopener noreferrer">VuePress开发静态博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h3 id="_6-2-导航栏提供文档列表"><a href="#_6-2-导航栏提供文档列表" class="header-anchor">#</a> 6.2 导航栏提供文档列表</h3> <p>采用 VuePress 导航栏提供的列表功能即可，不同文档放在不同路径且展示在不同页面。</p> <h3 id="_6-3-可选择文档版本"><a href="#_6-3-可选择文档版本" class="header-anchor">#</a> 6.3 可选择文档版本</h3> <p>目前已知可将不同版本的文档放在不同文件路径下实现这个功能，后续需要测试一下放在 GitHub 的不同分支能否实现该功能，如果能用分支储存则用分支，减少 master 分支的文档内容，也方便归档整理。</p> <h3 id="_6-4-将word转markdown"><a href="#_6-4-将word转markdown" class="header-anchor">#</a> 6.4 将Word转Markdown</h3> <p>上面选用了 Pandoc 作为 Markdown 转 PDF 的工具，该工具也可将 Word 转 Markdown，默认情况下，文本转换效果不错，但图片、代码、表格等特殊格式仍要手动调整校对一下。</p> <p>例如，此处将 README.docx 转成 README.md，命令如下：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>pandoc --extract-media ./images README.docx <span class="token parameter variable">-o</span> README.md
</code></pre></div><blockquote><p>备注：其中 --extract-media 参数表示图片存放路径。</p></blockquote></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_1-前言" class="sidebar-link reco-side-_1-前言" data-v-b57cc07c>1 前言</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_2-网页生成器的选择" class="sidebar-link reco-side-_2-网页生成器的选择" data-v-b57cc07c>2 网页生成器的选择</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_2-1-vuepress" class="sidebar-link reco-side-_2-1-vuepress" data-v-b57cc07c>2.1 VuePress</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_2-2-sphinx" class="sidebar-link reco-side-_2-2-sphinx" data-v-b57cc07c>2.2 Sphinx</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_2-3-docusaurus" class="sidebar-link reco-side-_2-3-docusaurus" data-v-b57cc07c>2.3 Docusaurus</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_2-4-结论" class="sidebar-link reco-side-_2-4-结论" data-v-b57cc07c>2.4 结论</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_3-支持全文搜索" class="sidebar-link reco-side-_3-支持全文搜索" data-v-b57cc07c>3 支持全文搜索</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_3-1-vuepress-自带插件" class="sidebar-link reco-side-_3-1-vuepress-自带插件" data-v-b57cc07c>3.1 VuePress 自带插件</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_3-2-algolia-docsearch" class="sidebar-link reco-side-_3-2-algolia-docsearch" data-v-b57cc07c>3.2 Algolia DocSearch</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_3-3-结论" class="sidebar-link reco-side-_3-3-结论" data-v-b57cc07c>3.3 结论</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_4-生成pdf的方案" class="sidebar-link reco-side-_4-生成pdf的方案" data-v-b57cc07c>4 生成PDF的方案</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_4-1-使用sphinx" class="sidebar-link reco-side-_4-1-使用sphinx" data-v-b57cc07c>4.1 使用Sphinx</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_4-2-mdpdf" class="sidebar-link reco-side-_4-2-mdpdf" data-v-b57cc07c>4.2 mdpdf</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_4-3-markdown-pdf" class="sidebar-link reco-side-_4-3-markdown-pdf" data-v-b57cc07c>4.3 markdown-pdf</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_4-4-pandoc-texlive" class="sidebar-link reco-side-_4-4-pandoc-texlive" data-v-b57cc07c>4.4 Pandoc+TeXLive</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_4-5-结论" class="sidebar-link reco-side-_4-5-结论" data-v-b57cc07c>4.5 结论</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_5-方案总结" class="sidebar-link reco-side-_5-方案总结" data-v-b57cc07c>5 方案总结</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_6-其他问题评估" class="sidebar-link reco-side-_6-其他问题评估" data-v-b57cc07c>6 其他问题评估</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_6-1-首页提供文档列表" class="sidebar-link reco-side-_6-1-首页提供文档列表" data-v-b57cc07c>6.1 首页提供文档列表</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_6-2-导航栏提供文档列表" class="sidebar-link reco-side-_6-2-导航栏提供文档列表" data-v-b57cc07c>6.2 导航栏提供文档列表</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_6-3-可选择文档版本" class="sidebar-link reco-side-_6-3-可选择文档版本" data-v-b57cc07c>6.3 可选择文档版本</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/other/cloud_document.html#_6-4-将word转markdown" class="sidebar-link reco-side-_6-4-将word转markdown" data-v-b57cc07c>6.4 将Word转Markdown</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.389323ad.js" defer></script><script src="/assets/js/3.8cd7b294.js" defer></script><script src="/assets/js/1.2acc022b.js" defer></script><script src="/assets/js/11.c2055ebb.js" defer></script>
  </body>
</html>
