(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{369:function(s,t){s.exports="data:image/png;base64,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"},579:function(s,t,a){s.exports=a.p+"assets/img/pic2.6be1d278.png"},580:function(s,t){s.exports="data:image/png;base64,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"},682:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1-前言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-前言"}},[s._v("#")]),s._v(" 1 前言")]),s._v(" "),t("p",[s._v("在开发程序的过程中，编译和链接是一定会经历但很少被重视的步骤，通常这两个步骤会被 IDE 封装，开发者只需一键构建即可，但遇到错误（尤其是链接相关的错误）时，如果不了解编译和链接的原理，就很难定位并解决问题。本文则尝试分析并记录程序编译和链接的整个过程。")]),s._v(" "),t("p",[t("img",{attrs:{src:a(369),alt:"PIC"}})]),s._v(" "),t("h2",{attrs:{id:"_2-什么是编译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-什么是编译"}},[s._v("#")]),s._v(" 2 什么是编译？")]),s._v(" "),t("p",[s._v("编译的过程其实是将我们程序的源代码翻译成CPU能够直接运行的机器代码。")]),s._v(" "),t("p",[t("img",{attrs:{src:a(579),alt:"PIC"}})]),s._v(" "),t("p",[s._v("比如，写一个源文件 main.c，代码如下：")]),s._v(" "),t("div",{staticClass:"language-c extra-class"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("<stdio.h>")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("printf")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World!\\n"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" result "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("其中打印一行文本，并调用了一个 "),t("code",[s._v("add()")]),s._v(" 函数，该函数被定义在另一个源文件 "),t("code",[s._v("math.c")]),s._v(" 中，代码如下：")]),s._v(" "),t("div",{staticClass:"language-c extra-class"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("h3",{attrs:{id:"_2-1-编译源码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-编译源码"}},[s._v("#")]),s._v(" 2.1 编译源码")]),s._v(" "),t("p",[s._v("接下来，我们可以调用 "),t("code",[s._v("gcc -c")]),s._v(" 来分别编译这两个文件，命令如下：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("gcc "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" main.c\ngcc "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" math.c\n")])])]),t("blockquote",[t("p",[s._v("备注：常用的 C/C++ 编译器除了 gcc 还有 clang、msvc 等等。")])]),s._v(" "),t("p",[s._v("需要注意的是，"),t("strong",[s._v("编译永远都是以单个源文件为单位的")]),s._v("。在实际开发中，我们通常会将不同功能的代码分散到不同的源文件，一方面方便代码的阅读和维护，同时也提升了软件构建的速度。")]),s._v(" "),t("p",[s._v("比如，我们修改了其中某一个源文件，那么只需要单独编译它这一个文件即可，不需要浪费时间重新编译整个工程。")]),s._v(" "),t("h3",{attrs:{id:"_2-2-二进制的目标文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-二进制的目标文件"}},[s._v("#")]),s._v(" 2.2 二进制的目标文件")]),s._v(" "),t("p",[s._v("执行上述的 gcc 编译命令后，可以看到，在编译之后会生成两个扩展名为 "),t("code",[s._v(".o")]),s._v(" 的文件，它们被称作目标文件。")]),s._v(" "),t("p",[s._v("目标文件是一个二进制的文件，文件的格式是 "),t("code",[s._v("ELF(Executable and Linkable Format)")]),s._v("，Linux 下所有可执行文件的通用格式。相应的 Windows 使用的是另一种格式 "),t("code",[s._v("PE")]),s._v("，它们虽然互不兼容，但在结构上非常相似，都是对二进制代码的一种封装。")]),s._v(" "),t("p",[s._v("我们可以在文件头部找到可执行文件的基本信息，比如支持的操作系统、计器类型等等，执行以下命令查看：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("readelf "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" main.o\n")])])]),t("p",[s._v("输出结果：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ELF 头：\n  Magic：   7f "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(" 4c "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("46")]),s._v(" 02 01 01 00 00 00 00 00 00 00 00 00 \n  类别:                              ELF64\n  数据:                              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" 补码，小端序 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("little endian"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  版本:                              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("current"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  OS/ABI:                            UNIX - System V\n  ABI 版本:                          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  类型:                              REL "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("可重定位文件"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  系统架构:                          Advanced Micro Devices X86-64\n  版本:                              0x1\n  入口点地址：               0x0\n  程序头起点：          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bytes into "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  Start of section headers:          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("744")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bytes into "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  标志：             0x0\n  本头的大小：       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("字节"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  程序头大小：       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("字节"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  Number of program headers:         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  节头大小：         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("字节"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  节头数量：         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("\n  字符串表索引节头： "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])])]),t("p",[s._v("文件后面则是一系列的区块，里面有我们的计器代码还有程序的数据等等，查看区块/段(Sections)：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("readelf "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-S")]),s._v(" main.o\n")])])]),t("p",[s._v("输出结果：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("共有 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" 个节头，从偏移量 0x2e8 开始：\n\n节头：\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("号"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 名称              类型             地址              偏移量\n       大小              全体大小          旗标   链接   信息   对齐\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                   NULL             0000000000000000  00000000\n       0000000000000000  0000000000000000           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" .text             PROGBITS         0000000000000000  00000040\n       000000000000002b  0000000000000000  AX       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" .rela.text        RELA             0000000000000000  00000220\n       0000000000000048  0000000000000018   I      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" .data             PROGBITS         0000000000000000  0000006b\n       0000000000000000  0000000000000000  WA       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" .bss              NOBITS           0000000000000000  0000006b\n       0000000000000000  0000000000000000  WA       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" .rodata           PROGBITS         0000000000000000  0000006b\n       000000000000000d  0000000000000000   A       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" .comment          PROGBITS         0000000000000000  00000078\n       0000000000000036  0000000000000001  MS       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" .note.GNU-stack   PROGBITS         0000000000000000  000000ae\n       0000000000000000  0000000000000000           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" .eh_frame         PROGBITS         0000000000000000  000000b0\n       0000000000000038  0000000000000000   A       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" .rela.eh_frame    RELA             0000000000000000  00000268\n       0000000000000018  0000000000000018   I      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" .shstrtab         STRTAB           0000000000000000  00000280\n       0000000000000061  0000000000000000           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" .symtab           SYMTAB           0000000000000000  000000e8\n       0000000000000120  0000000000000018          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" .strtab           STRTAB           0000000000000000  00000208\n       0000000000000016  0000000000000000           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nKey to Flags:\n  W "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("write"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", A "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("alloc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", X "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("execute"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", M "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("merge"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", S "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("strings"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", l "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("large"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  I "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("info"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", L "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("link order"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", G "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", T "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("TLS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", E "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("exclude"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", x "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("unknown"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  O "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("extra OS processing required"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" o "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("OS specific"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", p "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("processor specific"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("p",[s._v("在以上信息中，经常提到有：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v(".text")]),s._v(" 代码区，里面是之前编译好的机器代码；")]),s._v(" "),t("li",[t("code",[s._v(".data")]),s._v(" 数据区，里面保存了我们初始化的全局变量、局部静态变量等等；")])]),s._v(" "),t("p",[s._v("需要注意的是，目标文件虽然包含了编译之后的机器代码，但它并不能够直接执行，操作系统也不允许你区执行它。因为我们在编译的过程中，用到了尚未定义的 "),t("code",[s._v("add()")]),s._v(" 函数。")]),s._v(" "),t("p",[s._v("在主程序中 "),t("code",[s._v("add()")]),s._v(" 其实只是一句声明而已，它被定义在另一个模块 "),t("code",[s._v("math.c")]),s._v(" 中，这同样也包括我们用到的标准库中的 "),t("code",[s._v("printf()")]),s._v(" 函数，如果我们去查看 "),t("code",[s._v("stdio.h")]),s._v(" 头文件，其中的 "),t("code",[s._v("printf()")]),s._v(" 也只是一个函数声明而已。")]),s._v(" "),t("p",[s._v("换句话说，我们在编译 "),t("code",[s._v("main.c")]),s._v(" 时，编译器完全不知道 "),t("code",[s._v("printf()")]),s._v(" 和 "),t("code",[s._v("add()")]),s._v(" 函数的存在，比如它们位于内存的哪个区块、代码长什么样，都是不知道的。因此编译器只能将这个两个函数的跳转地址暂时先设为 0，随后在链接的时候再去修正它。")]),s._v(" "),t("p",[s._v("比如，我们来看一下 "),t("code",[s._v("main.o")]),s._v(" 这个目标文件中的内容：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("objdump "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" main.o\n")])])]),t("p",[s._v("输出结果：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("main.o：     文件格式 elf64-x86-64\n\nContents of section .text:\n 0000 554889e5 4883ec10 bf000000 00e80000  UH"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("H"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n 0010 0000be05 000000bf 05000000 e8000000  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n 0020 008945fc b8000000 00c9c3             "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("E"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("     \nContents of section .rodata:\n 0000 48656c6c 6f20576f 726c6421 00        Hello World"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(".   \nContents of section .comment:\n 0000 00474343 3a202855 62756e74 7520352e  .GCC: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ubuntu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".\n 0010 342e302d "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("36756275")]),s._v(" 6e747531 7e31362e  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.0")]),s._v("-6ubuntu1~16.\n 0020 30342e31 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32292035")]),s._v(" 2e342e30 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20323031")]),s._v("  04.12"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.4")]),s._v(".0 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("201")]),s._v("\n 0030 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("36303630")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3900")]),s._v("                        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60609")]),s._v(".          \nContents of section .eh_frame:\n 0000 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14000000")]),s._v(" 00000000 017a5200 01781001  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".zR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n 0010 1b0c0708 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("90010000")]),s._v(" 1c000000 1c000000  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n 0020 00000000 2b000000 00410e10 8602430d  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("+"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("A"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("C.\n 0030 06660c07 08000000                    .f"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("        \n\nDisassembly of section .text:\n\n0000000000000000 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("main"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(":\n   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55")]),s._v("                      push   %rbp\n   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v(" e5                mov    %rsp,%rbp\n   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(":   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v(" ec "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("             sub    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0x10")]),s._v(",%rsp\n   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":   bf 00 00 00 00          mov    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0x0")]),s._v(",%edi\n   d:   e8 00 00 00 00          callq  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("main+0x1"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":   be 05 00 00 00          mov    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0x5")]),s._v(",%esi\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":   bf 05 00 00 00          mov    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0x5")]),s._v(",%edi\n  1c:   e8 00 00 00 00          callq  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("main+0x2"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(" fc                mov    %eax,-0x4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("%rbp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(":   b8 00 00 00 00          mov    "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0x0")]),s._v(",%eax\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(":   c9                      leaveq \n  2a:   c3                      retq \n")])])]),t("p",[s._v("上述的 "),t("code",[s._v("0000000000000000 <main>")]),s._v(" 是指编译后的主函数代码，在下面的内容中，左边的是机器代码，右边是对应的反汇编，可以看到反汇编中的两个 "),t("code",[s._v("call")]),s._v(" 指令，它们分别对应之前调用的 "),t("code",[s._v("printf()")]),s._v(" 和 "),t("code",[s._v("add()")]),s._v(" 函数，我们发现，它们的跳转地址都被设成了 0，而这里的 0 在后面链接的时候会被修正。")]),s._v(" "),t("p",[s._v("另外，为了让链接器能够定位到这些需要被修正的地址，在代码块中，我们还可以找到一个重定位表（Reloction Table），命令如下：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("objdump "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" main.o\n")])])]),t("p",[s._v("输出结果：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("main.o：     文件格式 elf64-x86-64\n\nRELOCATION RECORDS FOR "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(".text"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":\nOFFSET           TYPE              VALUE \n0000000000000009 R_X86_64_32       .rodata\n000000000000000e R_X86_64_PC32     puts-0x0000000000000004\n000000000000001d R_X86_64_PC32     add-0x0000000000000004\n\n\nRELOCATION RECORDS FOR "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(".eh_frame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":\nOFFSET           TYPE              VALUE \n0000000000000020 R_X86_64_PC32     .text\n")])])]),t("p",[s._v("比如在 "),t("code",[s._v(".text")]),s._v(" 区块中，需要被重定位的两个函数 "),t("code",[s._v("printf()")]),s._v(" 和 "),t("code",[s._v("add()")]),s._v("，它们分别位于偏移量 "),t("code",[s._v("0x0e")]),s._v(" 和 "),t("code",[s._v("0x1d")]),s._v(" 的位置，后面的 "),t("code",[s._v("R_X86_64_PC32")]),s._v(" 是地址的类型和长度，这和我们之前看到的机器代码是一一对应的。")]),s._v(" "),t("blockquote",[t("p",[s._v("备注：这里的 "),t("code",[s._v("printf()")]),s._v(" 函数显示为 "),t("code",[s._v("puts()")]),s._v(" 是因为 "),t("code",[s._v("main.c")]),s._v(" 中调用 "),t("code",[s._v("printf()")]),s._v(" 函数时，传入的参数无需解析，即不含类似 "),t("code",[s._v("%s")]),s._v(" 之类的 format 时，编译器会将其转换为 "),t("code",[s._v("puts()")]),s._v(" 函数，进行简化。")])]),s._v(" "),t("h2",{attrs:{id:"_3-什么是链接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-什么是链接"}},[s._v("#")]),s._v(" 3 什么是链接？")]),s._v(" "),t("p",[s._v("我们将编译生成的 "),t("code",[s._v("main.o")]),s._v(" 和 "),t("code",[s._v("math.o")]),s._v(" 链接生成一个独立的可执行文件，命令如下：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("gcc main.o math.o "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" demo\n")])])]),t("p",[s._v("执行完成后，在终端目录下，我们可以找到生成的 demo 文件，该文件可以直接运行。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("./demo\n")])])]),t("p",[s._v("输出结果：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("Hello World"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n")])])]),t("p",[s._v("**链接其实将编译之后的所有目标文件，连同用到的一些静态库、运行时库（动态库）组合拼装成一个独立的可执行文件。**其中就包括我们之前提到的地址修正。")]),s._v(" "),t("p",[s._v("在这个时候，链接器会根据目标文件或者静态库中的重定位表，找到那些需要被重定位的函数、全局变量，从而修正它们的地址。")]),s._v(" "),t("p",[t("img",{attrs:{src:a(580),alt:"PIC"}})]),s._v(" "),t("p",[s._v("但如果我们在链接的时候忘记提供必须的目标文件，比如这里的 "),t("code",[s._v("math.o")]),s._v(" 由于链接器找不到 "),t("code",[s._v("add()")]),s._v(" 函数的实现，就会报错\"引用未定义\"(undefined reference to 'xxx')，或者有的编译器也叫\"符号未定义\"(undefined symbols to 'xxx')，意思就是我们的代码中用到了 "),t("code",[s._v("xxx")]),s._v("，但链接器却无法找到它的定义。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("gcc main.o "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" demo\n")])])]),t("p",[s._v("输出结果：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("main.o：在函数‘main’中：\nmain.c:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(".text+0x1d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("：对‘add’未定义的引用\ncollect2: error: ld returned "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" status\n")])])]),t("h2",{attrs:{id:"_4-构建工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-构建工具"}},[s._v("#")]),s._v(" 4 构建工具")]),s._v(" "),t("p",[s._v("本文到这里，相信大家对编译和链接已经有一定了解了，但如果我们每次都手动编译再链接显然不够高效，实际开发也没有人会这么做，通常我们都是用各种各样的 IDE 或者构建工具帮我们自动化整个流程。")]),s._v(" "),t("p",[s._v("我自己工作中常用到的构建工具主要有 Makefile 和 SCons，这里用最常见的 Makefile 来举例。")]),s._v(" "),t("p",[s._v("可能很多人对 Makefile 的印象是很古老，但其实 Makefile 除了软件构建之外还有许多其他的奇技淫巧，比如用它来自动生成文档等等，像很多现代的项目也都还在用它，譬如 Android OS 的构建等等。")]),s._v(" "),t("p",[s._v('Makefile 的核心是对"依赖"的管理，比如要构建上文中的可以执行程序 '),t("code",[s._v("demo")]),s._v("，则需要 "),t("code",[s._v("main.o")]),s._v(" 和 "),t("code",[s._v("math.o")]),s._v(" 文件同时执行 gcc 链接指令，构建 "),t("code",[s._v("main.o")]),s._v(" 又需要 "),t("code",[s._v("main.c")]),s._v(" 这个文件同时执行 gcc 编译命令，依此类推，我们可以发现，makefile 其实就是在定义一棵依赖树。")]),s._v(" "),t("p",[t("img",{attrs:{src:a(369),alt:"PIC"}})]),s._v(" "),t("p",[s._v("我们需要构建最右侧的这个目标文件就需要提供左边那些节点文件，然后这样层层递归下去，代码如下：")]),s._v(" "),t("div",{staticClass:"language-makefile extra-class"},[t("pre",{pre:!0,attrs:{class:"language-makefile"}},[t("code",[t("span",{pre:!0,attrs:{class:"token target symbol"}},[s._v("all")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" demo\n\n"),t("span",{pre:!0,attrs:{class:"token target symbol"}},[s._v("demo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" main.o math.o\n\t\t\t\tgcc main.o math.o -o demo\n\n"),t("span",{pre:!0,attrs:{class:"token target symbol"}},[s._v("main.o")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" main.c\n\t\t\t\tgcc -c main.c\n\n"),t("span",{pre:!0,attrs:{class:"token target symbol"}},[s._v("math.o")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" math.c\n\t\t\t\tgcc -c math.c\n\n"),t("span",{pre:!0,attrs:{class:"token target symbol"}},[s._v("clean")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\t\t\t\trm demo main.o math.o\n")])])]),t("p",[s._v("有了 makefile 以后我们可以调用 make 命令，后面跟上目标的名称 "),t("code",[s._v("demo")]),s._v('，它会自动根据我们"依赖树"递归地去构建这个可执行文件：')]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" demo\n")])])]),t("p",[s._v("第一次运行由于所有叶子节点都不存在，make 会自动构建所有的依赖，包括其中的目标文件：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("tree\n")])])]),t("p",[s._v("输出结果")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n├── main\n├── main.c\n├── main.o\n├── makefile\n├── math.c\n└── math.o\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" directories, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" files\n")])])]),t("p",[s._v("如果我们再运行一次 make，由于所有的文件都已经存在，并且是最新的，make 就不会再重复构建了。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("make: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'demo'")]),s._v(" is up to date.\n")])])]),t("p",[s._v("如果后续我们修改了 "),t("code",[s._v("main.c")]),s._v(" 文件，由于 "),t("code",[s._v("main.c")]),s._v(" 只会影响 "),t("code",[s._v("main.o")]),s._v("，从而影响最后的可执行文件 "),t("code",[s._v("demo")]),s._v("，所以 make 只会去重新生成这两个相关的文件，从而避免了其他不必要的文件编译。")]),s._v(" "),t("p",[s._v("其实所有的现代化构建工具都用到了相同的原理——对依赖的管理，只不过加入了一些更实用的功能，比如脚本语言的支持（SCons就是基于Python实现的，因此支持Python语言的功能）、第三方库的管理等等。")])])}),[],!1,null,null,null);t.default=e.exports}}]);