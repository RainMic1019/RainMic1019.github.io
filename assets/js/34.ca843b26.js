(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{548:function(t,a,s){t.exports=s.p+"assets/img/renderings1.21ac47d4.png"},549:function(t,a,s){t.exports=s.p+"assets/img/renderings2.517c3007.png"},550:function(t,a,s){t.exports=s.p+"assets/img/renderings3.c086828a.png"},656:function(t,a,s){"use strict";s.r(a);var e=s(2),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_1-前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-前言"}},[t._v("#")]),t._v(" 1 前言")]),t._v(" "),a("p",[t._v("在之前的 "),a("RouterLink",{attrs:{to:"/blog/other/cloud_document.html"}},[t._v("云文档托管方案分析")]),t._v(" 中提到了，我们采用了 Pandoc+TeXLive 的方案来实现Markdown转PDF，接下来我们来详细介绍该方案。")],1),t._v(" "),a("h2",{attrs:{id:"_2-pandoc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-pandoc"}},[t._v("#")]),t._v(" 2 Pandoc")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.pandoc.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Pandoc"),a("OutboundLink")],1),t._v(" 是一个免费开源的通用文档转换工具，支持大量"),a("strong",[t._v("标记语言")]),t._v("之间的格式转换，例如 Markdown、HTML、LaTex、PDF、Microsoft Word等，其源码放在了 "),a("a",{attrs:{href:"https://github.com/jgm/pandoc",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),a("OutboundLink")],1),t._v(" 仓库。")]),t._v(" "),a("blockquote",[a("p",[t._v("备注：标记语言是一种将文本以及文本相关的其他信息结合起来，展现出关于文档结构和数据处理细节的文字编码。与文本相关的其他信息（包括文本的结构和表示信息等）与原来的文本结合在一起，但是使用标记进行标识。")])]),t._v(" "),a("p",[t._v("标记语言不仅仅是一种语言，就像许多语言一样，它需要一个运行时环境，使其有用。提供运行时环境的元素称为用户代理。")]),t._v(" "),a("h3",{attrs:{id:"_2-1-安装pandoc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-安装pandoc"}},[t._v("#")]),t._v(" 2.1 安装Pandoc")]),t._v(" "),a("ol",[a("li",[t._v("前往官网的 "),a("a",{attrs:{href:"https://pandoc.org/installing.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("安装页面"),a("OutboundLink")],1),t._v("，根据对应的系统下载 Pandoc。")]),t._v(" "),a("li",[t._v("此处以为 Windows 平台为例，下载 "),a("a",{attrs:{href:"https://github.com/jgm/pandoc/releases/tag/2.14.2",target:"_blank",rel:"noopener noreferrer"}},[t._v("pandoc-2.14.2-windows-x86_64.zip"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("li",[t._v("解压 pandoc-2.14.2-windows-x86_64.zip 后，将 pandoc.exe 的路径添加到环境变量。")]),t._v(" "),a("li",[t._v("在终端中执行以下命令检测是否安装成功：")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("pandoc –v\n")])])]),a("p",[t._v("命令结果显示详细的版本信息则表示安装成功，如下：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("pandoc.exe "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.14")]),t._v(".2\nCompiled with pandoc-types "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.22")]),t._v(", texmath "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.12")]),t._v(".3.1, skylighting "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.11")]),t._v(",\nciteproc "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),t._v(", ipynb "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v(".0.1\nUser data directory: C:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("liuyuxin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("AppData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Roaming"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("pandoc\nCopyright "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("C"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2006")]),t._v("-2021 John MacFarlane. Web:  https://pandoc.org\nThis is "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v(" software"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" see the "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" copying conditions. There is no\nwarranty, not even "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" merchantability or fitness "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" a particular purpose.\n")])])]),a("h3",{attrs:{id:"_2-2-基本用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-基本用法"}},[t._v("#")]),t._v(" 2.2 基本用法")]),t._v(" "),a("ol",[a("li",[t._v("查看命令参数：")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("pandoc "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-h")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("将 Word 转为 Markdown：")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("pandoc --extract-media ./images README.docx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" README.md\n")])])]),a("blockquote",[a("p",[t._v("备注：--extract-media 参数用于指定 .docx 文件中导出图片的路径，比如此处指定为当前目录下的 images 文件夹。")])]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("将 Markdown 转为 LaTex：")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("pandoc "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--toc")]),t._v(" –H head.tex README.md "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" README.tex\n")])])]),a("p",[t._v("更多介绍可以看 "),a("a",{attrs:{href:"https://pandoc.org/MANUAL.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Pandoc 的用户手册"),a("OutboundLink")],1),t._v("，另外官方还提供了一个 "),a("a",{attrs:{href:"https://pandoc.org/try/",target:"_blank",rel:"noopener noreferrer"}},[t._v("在线转换工具"),a("OutboundLink")],1),t._v(" 以及 "),a("a",{attrs:{href:"https://pandoc.org/demos.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("各种转换示例"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"_2-3-转换原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-转换原理"}},[t._v("#")]),t._v(" 2.3 转换原理")]),t._v(" "),a("p",[t._v("Pandoc 将 Markdown 文档转为 PDF 文件，实际上包含两个步骤：")]),t._v(" "),a("ul",[a("li",[t._v("第一步：将 Markdown 转化为 LaTeX 源文件。")]),t._v(" "),a("li",[t._v("第二部：调用系统的 pdflatex、xelatex 或者其他 Tex 命令，将 LaTex 源文件渲染为 PDF 文件。")])]),t._v(" "),a("h2",{attrs:{id:"_3-texlive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-texlive"}},[t._v("#")]),t._v(" 3 TeXLive")]),t._v(" "),a("h3",{attrs:{id:"_3-1-tex"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-tex"}},[t._v("#")]),t._v(" 3.1 TeX")]),t._v(" "),a("p",[t._v("首先，我们需要知道什么是 TeX？")]),t._v(" "),a("p",[t._v("TeX 是一种排版系统，它提供了一套功能强大并且十分灵活的排版语言，拥有多大900多条指令，并且支持宏功能，用户可以通过不断定义新的命令来扩展功能。")]),t._v(" "),a("blockquote",[a("p",[t._v("备注：TeX 的诞生主要为了快速生产高质量的科技和数学类印刷文档。")])]),t._v(" "),a("h3",{attrs:{id:"_3-2-latex"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-latex"}},[t._v("#")]),t._v(" 3.2 LaTeX")]),t._v(" "),a("p",[t._v("LaTeX 是一种基于 TeX 实现的排版系统，LaTeX 使用 TeX 排版程序来格式化其输出，并且本身是用 TeX 宏语言编写的，是当前最流行以及应用最广泛的 Tex 扩展版本。")]),t._v(" "),a("p",[t._v("Tex 有许多发行版本，比如 "),a("strong",[t._v("TeXLive（跨平台）")]),t._v("、MacTeX、MiKTeX 等等。")]),t._v(" "),a("h3",{attrs:{id:"_3-3-tex发行版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-tex发行版本"}},[t._v("#")]),t._v(" 3.3 TeX发行版本")]),t._v(" "),a("p",[t._v("想要将 LaTeX 源文件渲染为 PDF，必须借助 TeX 渲染引擎，也就是所谓 TeX 发行版本，它负责根据 LaTeX 语法将其中的内容渲染为可以阅读打印的 PDF 文件。")]),t._v(" "),a("p",[t._v("此处我们采用了 "),a("a",{attrs:{href:"https://www.tug.org/texlive/",target:"_blank",rel:"noopener noreferrer"}},[t._v("TeXLive"),a("OutboundLink")],1),t._v("，可以在共享服务器上下载，主要考虑到以下四个优点：")]),t._v(" "),a("ul",[a("li",[t._v("免费；")]),t._v(" "),a("li",[t._v("跨平台；")]),t._v(" "),a("li",[t._v("包含支持中文 Unicode 编码的 xelatex 引擎；")]),t._v(" "),a("li",[t._v("内置简单的 TeX 编辑器 TeXwoks，可以快速预览效果；")])]),t._v(" "),a("h3",{attrs:{id:"_3-4-安装texlive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-安装texlive"}},[t._v("#")]),t._v(" 3.4 安装TeXLive")]),t._v(" "),a("ol",[a("li",[t._v("前往  "),a("a",{attrs:{href:"https://www.tug.org/texlive/",target:"_blank",rel:"noopener noreferrer"}},[t._v("TeXLive"),a("OutboundLink")],1),t._v(" 官网下载对应版本的镜像，如果速度较慢，可以去 "),a("a",{attrs:{href:"http://ftp.math.utah.edu/pub/tex/historic/systems/texlive/",target:"_blank",rel:"noopener noreferrer"}},[t._v("国内镜像"),a("OutboundLink")],1),t._v(" 下载，此处下载 texlive2020.iso。")]),t._v(" "),a("li",[t._v("按照默认步骤按照好后，将 [安装目录]\\texlive\\2020\\bin\\win32 添加到环境变量。")]),t._v(" "),a("li",[t._v("在终端中执行以下命令检测是否安装成功：")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("tex "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v("\nlatex "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v("\nxelatex "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v("\npdflatex "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v("\n")])])]),a("p",[t._v("命令结果显示详细的版本信息则表示安装成功，下文中主要使用 xelatex 渲染引擎，此处执行 xelatex -v，结果如下：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("XeTeX "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.14159265")]),t._v("-2.6-0.999992 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TeX Live "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("/W32TeX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nkpathsea version "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.3")]),t._v(".2\nCopyright "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v(" SIL International, Jonathan Kew and Khaled Hosny.\nThere is NO warranty.  Redistribution of this software is\ncovered by the terms of both the XeTeX copyright and\nthe Lesser GNU General Public License.\nFor "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" information about these matters, see the "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("\nnamed COPYING and the XeTeX source.\nPrimary author of XeTeX: Jonathan Kew.\nCompiled with ICU version "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("65.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" using "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("65.1")]),t._v("\nCompiled with zlib version "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.2")]),t._v(".11"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" using "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.2")]),t._v(".11\nCompiled with FreeType2 version "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.10")]),t._v(".1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" using "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.10")]),t._v(".1\nCompiled with Graphite2 version "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.3")]),t._v(".13"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" using "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.3")]),t._v(".13\nCompiled with HarfBuzz version "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.6")]),t._v(".4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" using "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.6")]),t._v(".4\nCompiled with libpng version "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.6")]),t._v(".37"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" using "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.6")]),t._v(".37\nCompiled with poppler version "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.68")]),t._v(".0\nCompiled with fontconfig version "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.13")]),t._v(".92"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" using "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.13")]),t._v(".92\n")])])]),a("h3",{attrs:{id:"_3-5-latex基本语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-latex基本语法"}},[t._v("#")]),t._v(" 3.5 Latex基本语法")]),t._v(" "),a("p",[t._v("LaTeX 就像一门编程语言，每使用特殊功能都要导入相关的包，最后通过渲染引擎的编译生成PDF文件，其语言结构如下：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("%% 定义文档信息\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("documentclass"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("article"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  %% 规定文档类型，常用的有 report、article、book、letter 等等\n\n%% 导入需要使用的宏包\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("usepackage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("geometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("    %% 导入文档页面设置的宏包（宏命令集合）\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("usepackage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("graphicx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("    %% 导入图形宏包，支持插入图片\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("usepackage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("longtable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("   %% 导入长表格宏包，支持插入表格\n\n%% 进行页面配置\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("geometry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("left"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".5cm,right"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".5cm,top"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".5cm,bottom"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".5cm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" %% 利用导入的宏包中的命令设置页边距\n\n%% 定义文档信息\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("My first Latex document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" %% 文档标题\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("author"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("YuXin Liu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("              %% 文档作者\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("/12/08"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("               %% 文档时间\n\n%% 表示文档内容开始\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("begin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("    \n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("maketitle          %% 渲染（打印）文档信息\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("newpage            %% 另起一页\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("tableofcontents    %% 渲染目录\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("newpage            %% 另起一页\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("section"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("section"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("   %% 添加章节\nHello world"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("subsection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("subsection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" %% 添加子章节\nAWTK"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("tiny"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Designer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("subsubsection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("subsubsection"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" %% 添加孙章节·\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Huge"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("LaTeX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n    \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("centerline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  %% 此行内容居中（这里表示图片居中）\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("includegraphics"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("width"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("textwidth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("images//Pikachu.jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  %% 渲染图片\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("normalsize \nthis is a image.\nthis is a image. "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n\n%% 添加表格\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("begin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("longtable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("c"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("c"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("r"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("r"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("r"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("r"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("r"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("r"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("r"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("l"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("caption"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("caption"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("       %% 表格标题\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("label"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("table:label"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v(" %% 添加表格标签\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("hline                  %% 添加水平线\n    line1   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   line2   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$t_1")]),t._v("$   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$t_")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("$    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$t_2")]),t._v("$       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$r")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("%"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$D")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("GB"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$D_")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("nc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$G_t")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("%"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("Station"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("    \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("hline\n    % 每行的数据\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":22:00 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(":46:00 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(":00:00 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80.49")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("159.18")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("302.25")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("89.88")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   Cours Dillon    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("204")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("205")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(":01:00 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(":57:00 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(":11:00 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("47.97")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("95.21")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("138.43")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("45.38")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("   Ayguevives Collège  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    % 更多数据\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("hline\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("end"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("longtable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n%% 表示文档内容结束\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("end"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("渲染效果：")]),t._v(" "),a("p",[a("img",{attrs:{src:s(548),alt:"效果"}})]),t._v(" "),a("p",[a("img",{attrs:{src:s(549),alt:"效果"}})]),t._v(" "),a("p",[a("img",{attrs:{src:s(550),alt:"效果"}})]),t._v(" "),a("h3",{attrs:{id:"_3-6-latex-相关资料分享"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-latex-相关资料分享"}},[t._v("#")]),t._v(" 3.6 LaTeX 相关资料分享")]),t._v(" "),a("ol",[a("li",[t._v("LaTeX 在线编译器 "),a("a",{attrs:{href:"https://www.texpage.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("TeXPage"),a("OutboundLink")],1),t._v("：可以在线编辑、预览效果、还可以下载一些成熟的模板。")]),t._v(" "),a("li",[t._v("简单了解 LaTeX 的基础语法："),a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/52347414",target:"_blank",rel:"noopener noreferrer"}},[t._v("Latex基础语法 - 知乎 (zhihu.com)"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("li",[t._v("了解 LaTeX 中常用的宏包命令（中文）："),a("a",{attrs:{href:"http://www.ctex.org/documents/packages/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CTEX - 在线文档 - TeX/LaTeX 常用宏包"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("li",[t._v("LaTex 国内的模板库、论坛、示例、知识库："),a("a",{attrs:{href:"https://www.latexstudio.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("LaTeX 工作室 (latexstudio.net)"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("li",[t._v("TexLive 国内镜像资源："),a("a",{attrs:{href:"http://ftp.math.utah.edu/pub/tex/historic/systems/texlive/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Index of /pub/tex/historic/systems/texlive (utah.edu)"),a("OutboundLink")],1),t._v("。")])]),t._v(" "),a("p",[t._v("安装 TexLive 后使用终端命令查看官方文档（英文）：")]),t._v(" "),a("ul",[a("li",[t._v("查看所有使用手册集合：texdoc texdoc")]),t._v(" "),a("li",[t._v("配置指南：texdoc cfgguide")]),t._v(" "),a("li",[t._v("字体指南：texdoc fntguide")]),t._v(" "),a("li",[t._v("任何 TexLive 中的宏包说明书：texdoc [宏包名称]，比如查看图形宏包的说明书：texdoc graphic")])]),t._v(" "),a("h2",{attrs:{id:"_4-转换技巧"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-转换技巧"}},[t._v("#")]),t._v(" 4 转换技巧")]),t._v(" "),a("h3",{attrs:{id:"_4-1-处理中文"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-处理中文"}},[t._v("#")]),t._v(" 4.1 处理中文")]),t._v(" "),a("p",[t._v("Pandoc 默认使用的 pdflatex 命令无法处理 Unicode 字符，如果 markdown 中包含中文，转换为 PDF 的过程中会报错，需要用 xelatex 来处理中文，并且使用 CJKmainfont 选项指定支持中文的字体。")]),t._v(" "),a("p",[t._v("在 Win 中，对于 Pandoc 2.0 以上版本，生成 PDF 文件的命令如下：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("pandoc --pdf-engine"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xelatex "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-V")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CJKmainfont")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Microsoft YaHei"')]),t._v(" README.md "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" README.pdf\n")])])]),a("p",[t._v("CJKmainfont 指定支持中文的字体名称，寻找这些字体首先需要知道 language code，比如中文的是 "),a("strong",[t._v("zh")]),t._v("，然后使用以下命令查看系统中支持该语言的所有字体：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("fc-list :lang"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("zh\n")])])]),a("blockquote",[a("p",[t._v("备注：fc-list 在Unix系统一般会预装，其他平台需要自行搜索安装依赖包，在 Windows 中可以直接查看 C:\\Windows\\Fonts 目录。")]),t._v(" "),a("ul",[a("li",[t._v("Win7 可以访问：控制面板\\所有控制面板项\\字体。")]),t._v(" "),a("li",[t._v("Win10 可通过【设置】=>【个性化】=>【字体】查看字体名称。")])])]),t._v(" "),a("h3",{attrs:{id:"_4-2-使用yaml-header添加文档信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-使用yaml-header添加文档信息"}},[t._v("#")]),t._v(" 4.2 使用YAML header添加文档信息")]),t._v(" "),a("p",[t._v("Pandoc 支持 YAML 格式的 header，通过 header 可以指定文章的标题，作者，更新时间等信息，一个示例 header 如下：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("---\ntitle: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"My title"')]),t._v("\nauthor: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"author"')]),t._v("\ndate: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("-12-12\n---\n")])])]),a("h3",{attrs:{id:"_4-3-代码高亮"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-代码高亮"}},[t._v("#")]),t._v(" 4.3 代码高亮")]),t._v(" "),a("p",[t._v("Pandoc 支持给 block code 里面的代码加上背景高亮，并提供了不同的高亮主题，支持非常多的语言。要列出 Pandoc 提供的高亮方案，使用下面命令：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("pandoc --list-highlight-styles\n")])])]),a("p",[t._v("要列出所有支持的语言，使用下面命令：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("pandoc --list-highlight-languages\n")])])]),a("p",[t._v("要使用语法高亮，Markdown 文件中的 block code 必须指定语言，同时在命令行使用--highlight-style 选项，例如：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("pandoc --pdf-engine"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xelatex --highlight-style tango README.md "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" README.pdf\n")])])]),a("h3",{attrs:{id:"_4-4-超链接样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-超链接样式"}},[t._v("#")]),t._v(" 4.4 超链接样式")]),t._v(" "),a("p",[t._v("根据 Pandoc user guide 的说明，我们可以通过 colorlinks 选项给各种链接加上颜色，便于和普通文本区分开来，同时，为了精确控制不同类型链接颜色，Pandoc 还提供了对不同链接颜色的个性化设置选项：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("colorlinks\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" color to "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("link")]),t._v(" text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" automatically enabled "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" any of linkcolor, filecolor, citecolor, urlcolor, or toccolor are "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v("\n\nlinkcolor, filecolor, citecolor, urlcolor, toccolor\n    color "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" internal links, external links, citation links, linked URLs, and\n    links "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" table of contents, respectively: uses options allowed by xcolor,\n    including the dvipsnames, svgnames, and x11names lists\n")])])]),a("p",[t._v("例如，如果我们想给 URL 链接加上颜色，并且 urlcolor 要设为 NavyBlue, 可以使用下面的命令：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("pandoc --pdf-engine"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xelatex "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-V")]),t._v(" colorlinks "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-V")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("urlcolor")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("NavyBlue README.md "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" README.pdf\n")])])]),a("p",[t._v("其他链接的颜色可以按照上述方式设置。")]),t._v(" "),a("h3",{attrs:{id:"_4-5-给section添加编号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-给section添加编号"}},[t._v("#")]),t._v(" 4.5 给section添加编号")]),t._v(" "),a("p",[t._v("默认情况下，生成的 PDF 不含目录，同时各级标题不含编号，仅仅字体大小有变化，要给各个 section 加上编号，可以用 -N 选项：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("pandoc --pdf-engine"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xelatex "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-N")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" README.pdf README.md\n")])])]),a("h3",{attrs:{id:"_4-6-给文档添加目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-给文档添加目录"}},[t._v("#")]),t._v(" 4.6 给文档添加目录")]),t._v(" "),a("p",[t._v("加上目录，可以使用 --toc 选项：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("pandoc --pdf-engine"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xelatex "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--toc")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" README.pdf README.md\n")])])]),a("h3",{attrs:{id:"_4-7-修改pdf的页边距"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-修改pdf的页边距"}},[t._v("#")]),t._v(" 4.7 修改PDF的页边距")]),t._v(" "),a("p",[t._v("使用默认设置生成的 PDF margin 太大，根据 "),a("a",{attrs:{href:"https://pandoc.org/faqs.html#how-do-i-change-the-margins-in-pdf-output",target:"_blank",rel:"noopener noreferrer"}},[t._v("Pandoc 官方FAQ"),a("OutboundLink")],1),t._v("，可以使用下面的选项更改 margin：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-V")]),t._v(" geometry:"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"top=2cm, bottom=1.5cm, left=2cm, right=2cm"')]),t._v("\n")])])]),a("p",[t._v("完整命令为：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("pandoc --pdf-engine"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xelatex "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-V")]),t._v(" geometry:"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"top=1.5cm, bottom=1.5cm, left=2cm, right=2cm"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" README.pdf README.md\n")])])]),a("h3",{attrs:{id:"_4-8-代码、引用或列表渲染失败"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-代码、引用或列表渲染失败"}},[t._v("#")]),t._v(" 4.8 代码、引用或列表渲染失败")]),t._v(" "),a("p",[t._v("原因是在 Pandoc 中 block quote，list 以及 table 前需要空一行。另外 block quote 中每一行渲染成 PDF 未能正确换行，所有行的文字都跑到了一行，可以通过强制在原 block quote 的每一行后面加上空格来解决。")]),t._v(" "),a("h3",{attrs:{id:"_4-9-代码加上背景色"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-9-代码加上背景色"}},[t._v("#")]),t._v(" 4.9 代码加上背景色")]),t._v(" "),a("p",[t._v("将 Markdown 转为 PDF 时，由于 Pandoc 使用 LaTeX 中的 \\textt 来表示 inline code，其中又定义了颜色变量 shadecolor 为代码背景色。为了增加 inline code 的可读性，我们可以修改 \\texttt 命令中的 shadecolor，给文本添加背景色。首先建立 head.tex 文件，在其中加入以下命令：")]),t._v(" "),a("div",{staticClass:"language-tex extra-class"},[a("pre",{pre:!0,attrs:{class:"language-tex"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% 设置 shade 背景色（代码背景颜色）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\usepackage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("color,framed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\definecolor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("shadecolor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("RGB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("235,235,235"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("在使用 Pandoc 转换 Markdown 文件时，加上 -H 选项来引用 head.tex 文件，例如：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("pandoc --pdf-engine"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("xelatex "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-H")]),t._v(" head.tex README.md "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" README.pdf\n")])])]),a("h3",{attrs:{id:"_4-10-使用head-tex配置pdf参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-10-使用head-tex配置pdf参数"}},[t._v("#")]),t._v(" 4.10 使用head.tex配置PDF参数")]),t._v(" "),a("p",[t._v("由于将 Markdown 转为 PDF 需要诸多选项与设置，将这些设置都写在命令行上，既浪费时间，也不利于小修小改，所以可以将常用的一些命令都放到 head.tex 文件中，然后在转换 Markdown 文件的时候引用该文件即可。")]),t._v(" "),a("p",[t._v("例如，可以将设置页面宽度的命令，给代码背景着色的命令，以及设置链接颜色的命令统一放入 head.tex 中：")]),t._v(" "),a("div",{staticClass:"language-tex extra-class"},[a("pre",{pre:!0,attrs:{class:"language-tex"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% 设置页边距")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\usepackage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("top=2cm, bottom=2cm, left=1.5cm, right=1.5cm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("geometry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% 针对中文自动换行")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\XeTeXlinebreaklocale")]),t._v(' "zh"\n\n'),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% 设置行间距 1.5 倍")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\linespread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("1.5"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\selectfont")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% 设置首行缩进")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\usepackage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("indentfirst")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\setlength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\parindent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("2em"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% 段落之间的距离")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\setlength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\parskip")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("3pt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \t\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% 字与字之间加入0pt至1pt的间距，确保左右对齐")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\XeTeXlinebreakskip")]),t._v(" = 0pt plus 1pt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% 设置页眉页脚")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\usepackage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fancyhdr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\pagestyle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fancy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\lhead")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\chead")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\rhead")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("version"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\lfoot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ZLG"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\cfoot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("@2021 Guangzhou ZHIYUAN Electronics Co.,Ltd."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\rfoot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\thepage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\renewcommand")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\headrulewidth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("0.4pt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% 页眉分割线宽")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\renewcommand")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\footrulewidth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("0.4pt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% 页脚分割线宽")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% 设置表头背景色")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\usepackage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("colortbl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\definecolor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("tableheadcolor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("RGB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("225,225,225"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% 设置 shade 背景色（代码背景颜色）")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\usepackage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("color,framed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\definecolor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("shadecolor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("RGB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("235,235,235"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% 设置 block quote 的样式")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% 由于还不知道怎么统一设置 quote 的背景色，先引用 shade 背景色")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% 用左右边距区分 quote")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\usepackage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("quoting")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\newenvironment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("shadedquotation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\begin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("shaded*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\quoting")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("leftmargin=1em, rightmargin=1em, vskip=0pt, font=itshape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\endquoting")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("shaded*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("% quote 应用 shadedquotation 环境")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\def")]),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\quote")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\shadedquotation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\def")]),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\endquote")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token function selector"}},[t._v("\\endshadedquotation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"_4-11-设置图片大小"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-11-设置图片大小"}},[t._v("#")]),t._v(" 4.11 设置图片大小")]),t._v(" "),a("p",[t._v("Markdown 转 PDF 时想指定某个图片的大小，在 markdown 文档中引用图片只需在后面加上 {width=xx%} 即可，需要注意的是，这里百分比时以 PDF 文档中每行最大的 text width 为基础的，也就是说当 {width=100%} 时，图像将按比例横向占满 PDF（不包括左右页边距）。")]),t._v(" "),a("div",{staticClass:"language-markdown extra-class"},[a("pre",{pre:!0,attrs:{class:"language-markdown"}},[a("code",[a("span",{pre:!0,attrs:{class:"token url"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("["),a("span",{pre:!0,attrs:{class:"token content"}},[t._v("image")]),t._v("]("),a("span",{pre:!0,attrs:{class:"token url"}},[t._v("./images/image.png")]),t._v(")")]),t._v("{width=70%}\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);