(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{412:function(t,s,n){t.exports=n.p+"assets/img/x64.ed819ead.png"},601:function(t,s,n){"use strict";n.r(s);var a=n(2),e=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-添加附加包含目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-添加附加包含目录"}},[t._v("#")]),t._v(" 1 添加附加包含目录")]),t._v(" "),s("p",[t._v('在VS2012中，"项目"->"属性"->"配置属性"->"C/C++"->"常规"->"附加包含目录"，将mysql 的 '),s("code",[t._v("server\\include")]),t._v(" 绝对路径添加进去，例如：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("C:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Program Files"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("MySQL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("MySQL Server "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("include\n")])])]),s("p",[t._v("也可以将include文件整个拷贝到工程目录下，然后在VS2012目录里面设置相对路径，例如：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("ProjectDir"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("include\n")])])]),s("p",[t._v("如果将include文件整个拷贝到工程目录下，但不设置附加包含目录，则在使用mysql.h这些头文件的时候采用以下这种方式添加头文件：")]),t._v(" "),s("div",{staticClass:"language-cpp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"include\\mysql.h"')])]),t._v("\n")])])]),s("h2",{attrs:{id:"_2-添加库文件及附加依赖项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-添加库文件及附加依赖项"}},[t._v("#")]),t._v(" 2 添加库文件及附加依赖项")]),t._v(" "),s("ol",[s("li",[t._v("将"),s("code",[t._v("MySQL Server 5.6/lib")]),t._v(" 下的 "),s("code",[t._v("libmysql.dll")]),t._v(" 和 "),s("code",[t._v("libmysql.lib")]),t._v(" 复制到我们工程项目文件下。")]),t._v(" "),s("li",[t._v("为工程添加附加依赖项 "),s("code",[t._v("wsock32.lib")]),t._v(" 和 "),s("code",[t._v("libmysql.lib")]),t._v('，一种方式是"工程"->"属性"->"链接器"->"输入"->"附加依赖项"，另一种是在程序开头添加以下代码：')])]),t._v(" "),s("div",{staticClass:"language-cpp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("pragma")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("comment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lib"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx.lib"')]),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v("\n")])])]),s("h2",{attrs:{id:"_3-添加头文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-添加头文件"}},[t._v("#")]),t._v(" 3 添加头文件")]),t._v(" "),s("div",{staticClass:"language-cpp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//mysql所需的头文件和库文件 ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<winsock.h>")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//注意这两个头文件的次序不能放错")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mysql.h"')])]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//包含附加依赖项，也可以在工程--属性里面设置")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token macro property"}},[s("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("pragma")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("comment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lib"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"libmysql.lib"')]),s("span",{pre:!0,attrs:{class:"token expression"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v("\n")])])]),s("h2",{attrs:{id:"_4-连接数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-连接数据库"}},[t._v("#")]),t._v(" 4 连接数据库")]),t._v(" "),s("div",{staticClass:"language-cpp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//以下变量在头文件中定义")]),t._v("\nMYSQL m_sqlConnect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//数据源指针")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//连接数据库函数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("bool")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CPosSystemDlg")]),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ConnectMySQL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("m_sqlConnect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//主机IP、用户、密码、数据库、端口、套接字、客户端标识、无")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_real_connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("m_sqlConnect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.0.0.0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"username"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sql"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3306")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NULL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("AfxMessageBox")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("_T")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"连接数据库失败"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tCString "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("m_sqlConnect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("MessageBox")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" \n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("AfxMessageBox")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("_T")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"连接数据库成功"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//释放资源函数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CPosSystemDlg")]),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("FreeConnect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//释放资源")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_free_result")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m_sqlRes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_close")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("m_sqlConnect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"_5-编译报错处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-编译报错处理"}},[t._v("#")]),t._v(" 5 编译报错处理")]),t._v(" "),s("p",[t._v("对于32位只要按照以上代码连接即可。")]),t._v(" "),s("p",[t._v("但是由于系统是32位或者64位的不同，编译时会引起如下错误：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("无法解析的外部符号 _mysql_init@4、_mysql_query"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\n")])])]),s("p",[t._v("对于64位，有两种方法解决上述错误：")]),t._v(" "),s("h3",{attrs:{id:"_5-1-方法一"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-方法一"}},[t._v("#")]),t._v(" 5.1 方法一")]),t._v(" "),s("p",[t._v("由于VS建立的项目默认为WIN32 项目，需将平台改为64。设置如下：")]),t._v(" "),s("ol",[s("li",[t._v('"项目"—>"属性"—>"配置属性"—>"配置管理器"—>"活动解决方案平台"，下拉选新建，出现一个新的对号框，在键入选择新平台中选择X64，如下图所示：')])]),t._v(" "),s("p",[s("img",{attrs:{src:n(412),alt:"将平台改为64位"}})]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("不是将 "),s("code",[t._v("C:\\ProgramFiles\\MySQL\\MySQL Server 5.7\\lib")]),t._v("（安装MySql下的lib文件夹）中的 "),s("code",[t._v("libmysql.dll")]),t._v(" 拷到项目下的Debug文件夹中，而是拷到项目下 "),s("code",[t._v("x64\\Debug")]),t._v(" 中（或者 "),s("code",[t._v("C:\\Windows\\System32")]),t._v(" 中）。")])]),t._v(" "),s("h3",{attrs:{id:"_5-2-方法二"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-方法二"}},[t._v("#")]),t._v(" 5.2 方法二")]),t._v(" "),s("p",[t._v("要包含32位的lib文件和dll文件。")]),t._v(" "),s("ol",[s("li",[t._v("首先下载32位的lib文件和dll文件。")])]),t._v(" "),s("blockquote",[s("p",[t._v("备注：32/64位MySql（lib、dll）资源：http://download.csdn.net/detail/u010439291/8453041")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[s("p",[t._v("需要将32位的lib文件拷到 "),s("code",[t._v("C:\\Program Files\\MySQL\\MySQL Server 5.7\\lib")]),t._v("（安装Mysql下的lib文件夹），拷贝之前需要将原来的 "),s("code",[t._v("libmysql.lib")]),t._v(" 更名。也可以不改变原来的lib文件名称，而将32位的 "),s("code",[t._v("libmysql.lib")]),t._v(" 改为 "),s("code",[t._v("libmysql32.lib")]),t._v("。")])]),t._v(" "),s("li",[s("p",[t._v('同时在"项目"->"属性"->"连接器"->"输入"->"附加依赖项"：添加 '),s("code",[t._v("libmysql32.lib")]),t._v("（名称和之前保持一致）。")])]),t._v(" "),s("li",[s("p",[t._v("编译通过之后，运行还要将32位的 "),s("code",[t._v("libmysql.dll")]),t._v(" 放在工程目录Debug文件夹中或者System32下。")])])]),t._v(" "),s("h2",{attrs:{id:"_6-增删查改操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-增删查改操作"}},[t._v("#")]),t._v(" 6 增删查改操作")]),t._v(" "),s("div",{staticClass:"language-cpp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//以下变量在头文件中定义")]),t._v("\nMYSQL_RES "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("m_sqlRes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//这个结构代表返回行的一个查询结果集")]),t._v("\nMYSQL_ROW row"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//读到的数据保存在这个数组里，通过row[0]按列读取")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//查询数据")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("bool")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CPosSystemDlg")]),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SelectData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" sqlstr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_query")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("m_sqlConnect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"set names gbk"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//设置编码格式，防止中文乱码")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//返回0 查询成功，返回1查询失败")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_query")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("m_sqlConnect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("sqlstr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//执行sql语句")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tCString "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("m_sqlConnect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("MessageBox")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("AfxMessageBox")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("_T")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"查询成功"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取结果集")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m_sqlRes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_store_result")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("m_sqlConnect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获得sql语句结束后返回的结果集")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\tCString "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("m_sqlConnect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("MessageBox")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将结果逐行读出直到读完")]),t._v("\n\t\t\trow "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_fetch_row")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m_sqlRes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//得到第一条结果")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("row"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NULL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\t\t\n\t\t\t\tCString str"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("CString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("row"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("MessageBox")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\trow "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_fetch_row")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m_sqlRes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//取下一条结果")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("增删改三项功能直接通过 "),s("code",[t._v("mysql_query(&m_sqlConnect,sqlstr)")]),t._v(" 语句执行sql语句就OK了。")]),t._v(" "),s("h2",{attrs:{id:"_7-附录-mysql的api接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-附录-mysql的api接口"}},[t._v("#")]),t._v(" 7 附录：MySQL的API接口")]),t._v(" "),s("div",{staticClass:"language-cpp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_affected_rows")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回被最新的UPDATE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" DELETE或INSERT查询影响的行数。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_close")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 关闭一个服务器连接。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 连接一个MySQL服务器。该函数不推荐；使用"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_real_connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("代替。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_change_user")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 改变在一个打开的连接上的用户和数据库。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_create_db")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 创建一个数据库。该函数不推荐；而使用SQL命令CREATE DATABASE。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_data_seek")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 在一个查询结果集合中搜寻一任意行。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_debug")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 用给定字符串做一个DBUG_PUSH。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_drop_db")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 抛弃一个数据库。该函数不推荐；而使用SQL命令DROP DATABASE。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_dump_debug_info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 让服务器将调试信息写入日志文件。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_eof")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 确定是否已经读到一个结果集合的最后一行。这功能被反对"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_errno")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("或"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("可以相反被使用。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_errno")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回最近被调用的MySQL函数的出错编号。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回最近被调用的MySQL函数的出错消息。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_escape_string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 用在SQL语句中的字符串的转义特殊字符。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_fetch_field")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回下一个表字段的类型。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_fetch_field_direct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回一个表字段的类型，给出一个字段编号。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_fetch_fields")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回一个所有字段结构的数组。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_fetch_lengths")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回当前行中所有列的长度。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_fetch_row")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 从结果集合中取得下一行。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_field_seek")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 把列光标放在一个指定的列上。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_field_count")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回最近查询的结果列的数量。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_field_tell")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回用于最后一个"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_fetch_field")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("的字段光标的位置。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_free_result")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 释放一个结果集合使用的内存。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_get_client_info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回客户版本信息。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_get_host_info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回一个描述连接的字符串。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_get_proto_info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回连接使用的协议版本。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_get_server_info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回服务器版本号。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回关于最近执行得查询的信息。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 获得或初始化一个MYSQL结构。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_insert_id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回有前一个查询为一个AUTO_INCREMENT列生成的ID。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_kill")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 杀死一个给定的线程。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_list_dbs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回匹配一个简单的正则表达式的数据库名。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_list_fields")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回匹配一个简单的正则表达式的列名。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_list_processes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回当前服务器线程的一张表。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_list_tables")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回匹配一个简单的正则表达式的表名。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_num_fields")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回一个结果集合重的列的数量。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_num_rows")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回一个结果集合中的行的数量。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_options")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 设置对"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("的连接选项。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_ping")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 检查对服务器的连接是否正在工作，必要时重新连接。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_query")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 执行指定为一个空结尾的字符串的SQL查询。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_real_connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 连接一个MySQL服务器。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_real_query")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 执行指定为带计数的字符串的SQL查询。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_reload")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 告诉服务器重装授权表。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_row_seek")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 搜索在结果集合中的行，使用从"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_row_tell")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("返回的值。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_row_tell")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回行光标位置。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_select_db")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 连接一个数据库。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_shutdown")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 关掉数据库服务器。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_stat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回作为字符串的服务器状态。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_store_result")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 检索一个完整的结果集合给客户。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_thread_id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 返回当前线程的ID。  \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mysql_use_result")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" 初始化一个一行一行地结果集合的检索。 \n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);